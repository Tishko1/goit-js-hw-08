{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAW,GA6BI,CAAAC,IACnB,MAAMC,EAlBW,CAAAC,IACjB,IACE,MAAMC,EAAkBC,aAAaC,QAAQH,GAC7C,OAA2B,OAApBC,OAA2BG,EAAYC,KAAKC,MAAML,E,CACzD,MAAOM,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,GAavBC,CAAW,uBAC/B,GAAIX,EACF,IAAK,MAAMY,KAAQZ,EACjBL,EAAKkB,SAASD,GAAME,MAAQd,EAAYY,EAAK,EAKnDG,GAEApB,EAAKqB,iBACH,SACA,EAAAvB,EAAAwB,WAASlB,IACP,MAAMmB,OAAEA,GAAWnB,EACboB,EAAYD,EAAOE,KACnBC,EAAaH,EAAOJ,MAC1BhB,EAASqB,GAAaE,EA5CT,EAACpB,EAAKa,KACrB,IACE,MAAMZ,EAAkBI,KAAKgB,UAAUR,GAEvCX,aAAaoB,QAAQtB,EAAKC,E,CAC1B,MAAOM,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,GAuCzCc,CAAS,sBAAuB1B,EAAS,GACxC,MAGLH,EAAKqB,iBAAiB,UAAUjB,IAC9BA,EAAE0B,iBACFhB,QAAQiB,IAAI5B,GACZH,EAAKgC,QAjCc,CAAA1B,IACnB,IACEE,aAAayB,WAAW3B,E,CACxB,MAAOO,GACPC,QAAQiB,IAAI,sBAAuBlB,EAAME,Q,GA8B3CmB,CAAa,sBAAsB","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst form = document.querySelector('.feedback-form');\nconst userInfo = {};\n\nconst saveToLS = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst loadFromLS = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nconst removeFromLS = key => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.log('Remove item error: ', error.message);\n  }\n};\n\nconst fillFormData = e => {\n  const storageData = loadFromLS('feedback-form-state');\n  if (storageData) {\n    for (const prop in storageData) {\n      form.elements[prop].value = storageData[prop];\n    }\n  }\n};\n\nfillFormData();\n\nform.addEventListener(\n  'input',\n  throttle(e => {\n    const { target } = e;\n    const fieldName = target.name;\n    const fieldValue = target.value;\n    userInfo[fieldName] = fieldValue;\n    saveToLS('feedback-form-state', userInfo);\n  }, 500)\n);\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  console.log(userInfo);\n  form.reset();\n  removeFromLS('feedback-form-state');\n});\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$userInfo","e","storageData","key","serializedState","localStorage","getItem","undefined","JSON","parse","error","console","message","$945622fd0f572e60$var$loadFromLS","prop","elements","value","$945622fd0f572e60$var$fillFormData","addEventListener","throttle","target","fieldName","name","fieldValue","stringify","setItem","$945622fd0f572e60$var$saveToLS","preventDefault","log","reset","removeItem","$945622fd0f572e60$var$removeFromLS"],"version":3,"file":"03-feedback.88a3b4b7.js.map"}